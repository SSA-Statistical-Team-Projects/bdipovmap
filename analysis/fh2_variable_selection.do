use "C:\Users\wb559885\OneDrive - WBG\Documents\GitProjects\bdipovmap\data-clean\commune_upddata.dta", replace

global candidates admin2_ntl_all_2015 admin2_ntl_all_2016 admin2_ntl_all_2017 admin2_ntl_all_2018 admin2_ntl_all_2019 admin2_ntl_all_2020 admin2_ntl_built_up_2015 admin2_ntl_built_up_2016 admin2_ntl_built_up_2017 admin2_ntl_built_up_2018 admin2_ntl_built_up_2019 admin2_ntl_built_up_2020 admin2_ntl_small_stl_2015 admin2_ntl_small_stl_2016 admin2_ntl_small_stl_2017 admin2_ntl_small_stl_2018 admin2_ntl_small_stl_2019 admin2_ntl_small_stl_2020 admin2_ntl_hamlet_2015 admin2_ntl_hamlet_2016 admin2_ntl_hamlet_2017 admin2_ntl_hamlet_2018 admin2_ntl_hamlet_2019 admin2_ntl_hamlet_2020 admin2_pop_density_2015 admin2_pop_density_2016 admin2_pop_density_2017 admin2_pop_density_2018 admin2_pop_density_2019 admin2_pop_density_2020 admin2_lightscore_sy_2012 admin2_prplit_conf90_sy_2012 admin2_lightscore_sy_2019 admin2_prplit_conf90_sy_2019 admin2_y2017_Water admin2_y2017_Trees admin2_y2017_Crops admin2_y2017_Built_Area admin2_y2017_Snow_Ice admin2_y2017_Clouds admin2_y2018_Water admin2_y2018_Trees admin2_y2018_Crops admin2_y2018_Built_Area admin2_y2018_Snow_Ice admin2_y2018_Clouds admin2_y2019_Water admin2_y2019_Trees admin2_y2019_Crops admin2_y2019_Built_Area admin2_y2019_Snow_Ice admin2_y2019_Clouds admin2_y2020_Water admin2_y2020_Trees admin2_y2020_Crops admin2_y2020_Built_Area admin2_y2020_Snow_Ice admin2_y2020_Clouds admin2_building_sum admin2_building_density admin2_building_mean_area admin2_building_mean_length admin2_building_mean_urban admin2_building_mean_year admin2_pdsi_mean2018 admin2_aet_mean2018 admin2_def_mean2018 admin2_pr_mean2018 admin2_ro_mean2018 admin2_soil_mean2018 admin2_tmmn_mean2018 admin2_tmmx_mean2018 admin2_srad_mean2018 admin2_pdsi_mean2014 admin2_aet_mean2014 admin2_def_mean2014 admin2_pr_mean2014 admin2_ro_mean2014 admin2_soil_mean2014 admin2_tmmn_mean2014 admin2_tmmx_mean2014 admin2_srad_mean2014 admin2_pdsi_mean2009 admin2_aet_mean2009 admin2_def_mean2009 admin2_pr_mean2009 admin2_ro_mean2009 admin2_soil_mean2009 admin2_tmmn_mean2009 admin2_tmmx_mean2009 admin2_srad_mean2009 admin2_pdsi_mean99_19 admin2_aet_mean99_19 admin2_def_mean99_19 admin2_pr_mean99_19 admin2_ro_mean99_19 admin2_soil_mean99_19 admin2_tmmn_mean99_19 admin2_tmmx_mean99_19 admin2_srad_mean99_19 admin2_pdsi_change_5 admin2_aet_change_5 admin2_def_change_5 admin2_pr_change_5 admin2_ro_change_5 admin2_soil_change_5 admin2_tmmn_change_5 admin2_tmmx_change_5 admin2_srad_change_5 admin2_pdsi_change_10 admin2_aet_change_10 admin2_def_change_10 admin2_pr_change_10 admin2_ro_change_10 admin2_soil_change_10 admin2_tmmn_change_10 admin2_tmmx_change_10 admin2_srad_change_10 admin2_pdsi_hist_dev admin2_aet_hist_dev admin2_def_hist_dev admin2_pr_hist_dev admin2_ro_hist_dev admin2_soil_hist_dev admin2_tmmn_hist_dev admin2_tmmx_hist_dev admin2_srad_hist_dev admin2_pdsi_sq_hist_dev admin2_aet_sq_hist_dev admin2_def_sq_hist_dev admin2_pr_sq_hist_dev admin2_ro_sq_hist_dev admin2_soil_sq_hist_dev admin2_tmmn_sq_hist_dev admin2_tmmx_sq_hist_dev admin2_srad_sq_hist_dev admin2_meta_wealth_index admin2_BU2016DHS_ANANEMWANY admin2_BU2016DHS_CHVAC1CVCD admin2_BU2016DHS_CHVACCCBAS admin2_BU2016DHS_CHVACCCDP1 admin2_BU2016DHS_CHVACCCDP3 admin2_BU2016DHS_CHVACSCMSL admin2_BU2016DHS_CNNUTSCHA2 admin2_BU2016DHS_EDLITRMLIT admin2_BU2016DHS_EDLITRWLIT admin2_BU2016DHS_FPCUSMWMOD admin2_BU2016DHS_FPNADMWPDM admin2_BU2016DHS_FPNADMWUNT admin2_BU2016DHS_MLITNAPACC admin2_BU2016DHS_RHANCNWN4P admin2_BU2016DHS_RHDELPCDHF admin2_BU2016DHS_WSSRCEPIMP admin2_BU2016DHS_WSTLETPNFC admin2_normal_ntl_mean2015 admin2_normal_ntl_mean2016 admin2_normal_ntl_mean2017 admin2_normal_ntl_mean2018 admin2_normal_ntl_mean2019 admin2_normal_ntl_mean2020 admin2_ntl_all_growth admin2_ntl_built_up_growth admin2_ntl_small_stl_growth admin2_ntl_hamlet_growth admin2_log_pop_density_growth admin2_water_growth admin2_trees_growth admin2_crops_growth admin2_builtarea_growth admin2_snowice_growth admin2_clouds_growth BDI01 BDI10 BDI11 BDI12 BDI13 BDI14 BDI15 BDI16 BDI17 BDI02 BDI03 BDI04 BDI05 BDI06 BDI07 BDI08 BDI09

lasso linear Direct "$candidates" [iw = population], selection(bic, postsel) 

global selection = e(allvars_sel)
putexcel set "C:\Users\wb559885\OneDrive - WBG\Documents\GitProjects\bdipovmap\data-clean\model_selection\selected_variables_fh2.csv", modify
putexcel A1 = "$selection"
